import map
/* test comments*/
Action takeOff_Action(){
	:= takeOff_API();
}

Action flyToHeight_Action(h){
	:= flyToHeight_API(h);
}

Action flyTo_Action(dest){
    := flyTo_API(dest);
}

Agent search_uav { 
	takeOff_Action, flyToHeight_Action, flyTo_Action;
}

Behavior takeOff_Behavior(h) {
	@init{}
	@goal{}
	@routine{
		takeOff_Action();
		flyToHeight_Action(h);
	}
}

Task search({agtC[stC~edC]}, city_map){
	@init{
		/* @init 用于配置所有 sub-task, behavior 所需的必要组件 */
		height = 50;
	}
	@goal{}
	@routine{
		each agtC[stC~edC] {
            takeOff_Behavior(height);
		}
	}
}

Main {
	Agent search_uav 3;
	search({search_uav[0~3]}, map.AirsimNH);
}